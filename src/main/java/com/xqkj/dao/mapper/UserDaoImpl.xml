<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
	<mapper namespace="com.xqkj.dao.UserDao">

        <resultMap id="rm" type="com.xqkj.bean.User">
            <id property="id" column="id"/>
            <result property="loginName" column="login_name"></result>
            <result property="loginPwd" column="login_pwd"></result>
            <result property="name" column="name"></result>
            <result property="roleId" column="role_id"></result>
            <result property="isActive" column="is_active"></result>
        </resultMap>

		<select id="login"
			resultMap="rm">
				select * from user where login_name = #{param1} and
				login_pwd = #{param2}
		</select>

        <update id="updateUser" parameterType="com.xqkj.bean.User">

            update user set login_name = #{loginName, jdbcType=VARCHAR},name = #{name},
                            role_id = #{roleId}, is_active = #{isActive} where id = #{id}

        </update>

        <select id="getUserById" resultMap="rm">
            select * from user where id = #{id}
        </select>

        <update id="updatePassword">

            update user set login_pwd = #{param2, jdbcType=VARCHAR}
                where id = #{param1}

        </update>
		
	</mapper>